<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LumakaraContent ‚Äî Omnichannel Content System</title>
    <link rel="stylesheet" href="css/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;450;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Project Selector Bar -->
        <div class="project-bar">
            <div class="project-selector">
                <select id="project-select" onchange="switchProject(this.value)">
                    <option value="">Pilih Project...</option>
                </select>
                <button class="btn-icon" onclick="openProjectModal('create')" title="New Project">+</button>
            </div>
            <div class="project-info" id="active-project-info"></div>
        </div>

        <!-- Sidebar Navigation -->
        <nav class="sidebar">
            <div class="logo">
                <span class="logo-icon">‚óà</span>
                <span class="logo-text">LumakaraContent</span>
            </div>
            <ul class="nav-menu">
                <li class="nav-item active" data-section="dashboard">
                    <span class="nav-icon">‚óâ</span>
                    <span>Dashboard</span>
                </li>
                <li class="nav-item" data-section="content-hub">
                    <span class="nav-icon">‚ñ¶</span>
                    <span>Content Hub</span>
                </li>
                <li class="nav-item" data-section="knowledge-base">
                    <span class="nav-icon">‚óé</span>
                    <span>Knowledge Base</span>
                </li>
                <li class="nav-item" data-section="generator">
                    <span class="nav-icon">‚Üí</span>
                    <span>AI Generator</span>
                </li>
                <li class="nav-item" data-section="calendar">
                    <span class="nav-icon">‚ñ£</span>
                    <span>Calendar</span>
                </li>
                <li class="nav-item" data-section="settings">
                    <span class="nav-icon">‚öô</span>
                    <span>Settings</span>
                </li>
            </ul>
            <div class="sidebar-footer">
                <div class="platform-status">
                    <span class="status-dot active"></span>
                    <span>AI Ready</span>
                </div>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="main-content">
            
            <!-- ==================== DASHBOARD ==================== -->
            <section id="dashboard" class="section active">
                <div class="section-header">
                    <div>
                        <h1>Dashboard</h1>
                        <p id="dashboard-project-name">Pilih atau buat project untuk memulai</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn-primary" onclick="autoGenerateMonthlyContent()" id="btn-auto-generate">
                            <span>‚ö°</span> Auto-Generate 1 Bulan
                        </button>
                    </div>
                </div>

                <!-- Stats Cards -->
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">‚óà</div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-total">0</span>
                            <span class="stat-label">Total Konten</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìù</div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-draft">0</span>
                            <span class="stat-label">Draft</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">üìÖ</div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-scheduled">0</span>
                            <span class="stat-label">Scheduled</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon">‚úì</div>
                        <div class="stat-info">
                            <span class="stat-value" id="stat-published">0</span>
                            <span class="stat-label">Published</span>
                        </div>
                    </div>
                </div>

                <!-- Platform Overview -->
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <h3>Platform Distribution</h3>
                        <div class="platform-bars" id="platform-distribution"></div>
                    </div>
                    <div class="dashboard-card">
                        <h3>This Week</h3>
                        <div class="week-preview" id="week-preview"></div>
                    </div>
                </div>

                <!-- Quick Content Preview -->
                <div class="dashboard-card full-width">
                    <div class="card-header">
                        <h3>Upcoming Content</h3>
                        <button class="btn-text" onclick="navigateTo('content-hub')">View All ‚Üí</button>
                    </div>
                    <div class="content-preview-list" id="upcoming-content"></div>
                </div>
            </section>

            <!-- ==================== CONTENT HUB (Notion-like) ==================== -->
            <section id="content-hub" class="section">
                <div class="section-header">
                    <div>
                        <h1>Content Hub</h1>
                        <p>Kelola semua konten dalam satu tempat</p>
                    </div>
                    <div class="header-actions">
                        <div class="view-switcher">
                            <button class="view-btn active" data-view="table" onclick="switchView('table')">‚ò∞ Table</button>
                            <button class="view-btn" data-view="kanban" onclick="switchView('kanban')">‚ñ¶ Kanban</button>
                            <button class="view-btn" data-view="calendar" onclick="switchView('calendar')">üìÖ Calendar</button>
                        </div>
                        <button class="btn-primary" onclick="openContentEditor()">+ New Content</button>
                    </div>
                </div>

                <!-- Filters -->
                <div class="content-filters">
                    <div class="filter-group">
                        <input type="text" id="search-content" placeholder="Search content..." oninput="filterContent()">
                    </div>
                    <div class="filter-group">
                        <select id="filter-platform" onchange="filterContent()">
                            <option value="all">All Platforms</option>
                            <option value="instagram">Instagram</option>
                            <option value="tiktok">TikTok</option>
                            <option value="twitter">Twitter/X</option>
                            <option value="linkedin">LinkedIn</option>
                            <option value="facebook">Facebook</option>
                            <option value="youtube">YouTube</option>
                            <option value="blog">Blog</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="filter-status" onchange="filterContent()">
                            <option value="all">All Status</option>
                            <option value="idea">üí° Idea</option>
                            <option value="draft">üìù Draft</option>
                            <option value="review">üëÄ Review</option>
                            <option value="scheduled">üìÖ Scheduled</option>
                            <option value="published">‚úÖ Published</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <select id="filter-month" onchange="filterContent()">
                            <option value="all">All Time</option>
                        </select>
                    </div>
                </div>

                <!-- Table View -->
                <div class="content-view table-view active" id="table-view">
                    <table class="content-table">
                        <thead>
                            <tr>
                                <th>Title</th>
                                <th>Platform</th>
                                <th>Type</th>
                                <th>Status</th>
                                <th>Date</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="content-table-body"></tbody>
                    </table>
                </div>

                <!-- Kanban View -->
                <div class="content-view kanban-view" id="kanban-view">
                    <div class="kanban-board">
                        <div class="kanban-column" data-status="idea">
                            <div class="kanban-header">üí° Ideas</div>
                            <div class="kanban-cards" id="kanban-idea"></div>
                        </div>
                        <div class="kanban-column" data-status="draft">
                            <div class="kanban-header">üìù Draft</div>
                            <div class="kanban-cards" id="kanban-draft"></div>
                        </div>
                        <div class="kanban-column" data-status="review">
                            <div class="kanban-header">üëÄ Review</div>
                            <div class="kanban-cards" id="kanban-review"></div>
                        </div>
                        <div class="kanban-column" data-status="scheduled">
                            <div class="kanban-header">üìÖ Scheduled</div>
                            <div class="kanban-cards" id="kanban-scheduled"></div>
                        </div>
                        <div class="kanban-column" data-status="published">
                            <div class="kanban-header">‚úÖ Published</div>
                            <div class="kanban-cards" id="kanban-published"></div>
                        </div>
                    </div>
                </div>

                <!-- Calendar View -->
                <div class="content-view calendar-view" id="calendar-view">
                    <div class="calendar-nav">
                        <button onclick="changeMonth(-1)">‚Üê</button>
                        <span id="calendar-month-label">December 2024</span>
                        <button onclick="changeMonth(1)">‚Üí</button>
                    </div>
                    <div class="calendar-grid" id="calendar-grid"></div>
                </div>
            </section>

            <!-- ==================== KNOWLEDGE BASE ==================== -->
            <section id="knowledge-base" class="section">
                <div class="section-header">
                    <div>
                        <h1>Knowledge Base</h1>
                        <p>Informasi brand yang akan digunakan AI untuk generate konten</p>
                    </div>
                </div>

                <div class="kb-container">
                    <!-- Brand Guidelines -->
                    <div class="kb-card">
                        <h3>üìã Brand Guidelines</h3>
                        <div class="form-group">
                            <label>Brand Voice & Personality</label>
                            <textarea id="kb-brand-voice" rows="3" placeholder="Contoh: Friendly, professional, sedikit humor, tidak terlalu formal..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Key Messages (USP)</label>
                            <textarea id="kb-key-messages" rows="3" placeholder="Pesan utama yang harus selalu disampaikan..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Words to Use</label>
                            <input type="text" id="kb-words-use" placeholder="Kata-kata yang sering digunakan, pisahkan dengan koma">
                        </div>
                        <div class="form-group">
                            <label>Words to Avoid</label>
                            <input type="text" id="kb-words-avoid" placeholder="Kata-kata yang harus dihindari, pisahkan dengan koma">
                        </div>
                        <button class="btn-secondary" onclick="saveGuidelines()">Save Guidelines</button>
                    </div>

                    <!-- Documents -->
                    <div class="kb-card">
                        <h3>üìÑ Documents & Files</h3>
                        <p class="kb-desc">Upload dokumen tentang brand, produk, atau informasi penting lainnya</p>
                        
                        <div class="kb-upload-area" id="kb-upload-area">
                            <input type="file" id="kb-file-input" multiple accept=".txt,.md,.pdf,.doc,.docx" onchange="handleKBFileUpload(event)">
                            <p>Drop files here or click to upload</p>
                            <span>Supports: TXT, MD, PDF, DOC</span>
                        </div>

                        <div class="kb-documents-list" id="kb-documents-list"></div>
                    </div>

                    <!-- Quick Notes -->
                    <div class="kb-card">
                        <h3>üìù Quick Notes</h3>
                        <p class="kb-desc">Tambahkan catatan cepat tentang brand</p>
                        
                        <div class="kb-note-input">
                            <select id="kb-note-category">
                                <option value="brand">Brand Info</option>
                                <option value="product">Product Info</option>
                                <option value="audience">Audience Info</option>
                                <option value="competitor">Competitor Info</option>
                                <option value="general">General</option>
                            </select>
                            <textarea id="kb-note-text" rows="2" placeholder="Tambahkan catatan..."></textarea>
                            <button class="btn-secondary" onclick="addKBNote()">+ Add Note</button>
                        </div>

                        <div class="kb-notes-list" id="kb-notes-list"></div>
                    </div>

                    <!-- Content Pillars -->
                    <div class="kb-card">
                        <h3>üéØ Content Pillars</h3>
                        <p class="kb-desc">Topik utama yang akan menjadi fokus konten</p>
                        
                        <div class="pillars-input">
                            <input type="text" id="new-pillar-input" placeholder="Tambah pillar baru...">
                            <button class="btn-secondary" onclick="addPillar()">+ Add</button>
                        </div>
                        <div class="pillars-list" id="pillars-list"></div>
                    </div>
                </div>
            </section>

            <!-- ==================== AI GENERATOR ==================== -->
            <section id="generator" class="section">
                <div class="section-header">
                    <div>
                        <h1>AI Generator</h1>
                        <p>Generate konten dengan AI berdasarkan Knowledge Base</p>
                    </div>
                </div>

                <div class="generator-container">
                    <div class="generator-form-card">
                        <h3>Generate Content</h3>
                        
                        <div class="form-group">
                            <label>Topic / Idea</label>
                            <textarea id="gen-topic" rows="3" placeholder="Masukkan topik atau ide konten..."></textarea>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label>Platform</label>
                                <select id="gen-platform">
                                    <option value="instagram">Instagram</option>
                                    <option value="tiktok">TikTok</option>
                                    <option value="twitter">Twitter/X</option>
                                    <option value="linkedin">LinkedIn</option>
                                    <option value="facebook">Facebook</option>
                                    <option value="youtube">YouTube</option>
                                    <option value="blog">Blog</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Content Type</label>
                                <select id="gen-type">
                                    <option value="post">Feed Post</option>
                                    <option value="reel">Reel/Short Video</option>
                                    <option value="story">Story</option>
                                    <option value="carousel">Carousel</option>
                                    <option value="thread">Thread</option>
                                    <option value="article">Article</option>
                                </select>
                            </div>
                        </div>

                        <div class="form-group">
                            <label>Content Pillar</label>
                            <select id="gen-pillar">
                                <option value="">Select pillar...</option>
                            </select>
                        </div>

                        <div class="gen-options">
                            <label><input type="checkbox" id="gen-image" checked> Generate Image</label>
                            <label><input type="checkbox" id="gen-hashtags" checked> Include Hashtags</label>
                            <label><input type="checkbox" id="gen-cta" checked> Include CTA</label>
                        </div>

                        <button class="btn-primary full-width" onclick="generateSingleContent()">
                            ‚ö° Generate Content
                        </button>
                    </div>

                    <div class="generator-result-card">
                        <h3>Generated Result</h3>
                        <div id="gen-result" class="gen-result-area">
                            <p class="placeholder-text">Result will appear here...</p>
                        </div>
                        <div class="gen-result-actions" id="gen-result-actions" style="display:none;">
                            <button class="btn-secondary" onclick="copyGeneratedContent()">üìã Copy</button>
                            <button class="btn-secondary" onclick="regenerateContent()">üîÑ Regenerate</button>
                            <button class="btn-primary" onclick="saveGeneratedContent()">üíæ Save to Hub</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ==================== CALENDAR ==================== -->
            <section id="calendar" class="section">
                <div class="section-header">
                    <div>
                        <h1>Content Calendar</h1>
                        <p>Visualisasi jadwal konten bulanan</p>
                    </div>
                    <div class="header-actions">
                        <button class="btn-secondary" onclick="exportCalendar()">üì§ Export</button>
                    </div>
                </div>

                <div class="calendar-container">
                    <div class="calendar-nav">
                        <button onclick="changeCalendarMonth(-1)">‚Üê Previous</button>
                        <h2 id="full-calendar-month">December 2024</h2>
                        <button onclick="changeCalendarMonth(1)">Next ‚Üí</button>
                    </div>
                    <div class="full-calendar-grid" id="full-calendar-grid"></div>
                </div>
            </section>

            <!-- ==================== SETTINGS ==================== -->
            <section id="settings" class="section">
                <div class="section-header">
                    <div>
                        <h1>Settings</h1>
                        <p>Konfigurasi project dan preferensi</p>
                    </div>
                </div>

                <div class="settings-container">
                    <!-- Project Settings -->
                    <div class="settings-card">
                        <h3>üìÅ Project Settings</h3>
                        <div class="form-group">
                            <label>Project Name</label>
                            <input type="text" id="setting-project-name">
                        </div>
                        <div class="form-group">
                            <label>Brand Name</label>
                            <input type="text" id="setting-brand-name">
                        </div>
                        <div class="form-group">
                            <label>Niche / Industry</label>
                            <select id="setting-niche">
                                <option value="tech">Technology</option>
                                <option value="lifestyle">Lifestyle</option>
                                <option value="business">Business</option>
                                <option value="education">Education</option>
                                <option value="health">Health & Fitness</option>
                                <option value="food">Food & Culinary</option>
                                <option value="fashion">Fashion & Beauty</option>
                                <option value="finance">Finance</option>
                                <option value="travel">Travel</option>
                                <option value="entertainment">Entertainment</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Target Audience</label>
                            <textarea id="setting-audience" rows="2" placeholder="Describe your target audience..."></textarea>
                        </div>
                        <div class="form-group">
                            <label>Tone of Voice</label>
                            <select id="setting-tone">
                                <option value="casual">Casual & Friendly</option>
                                <option value="professional">Professional</option>
                                <option value="humorous">Humorous</option>
                                <option value="inspirational">Inspirational</option>
                                <option value="educational">Educational</option>
                            </select>
                        </div>
                        <button class="btn-primary" onclick="saveProjectSettings()">Save Settings</button>
                    </div>

                    <!-- Posting Schedule -->
                    <div class="settings-card">
                        <h3>üìÖ Posting Schedule</h3>
                        <div class="form-group">
                            <label>Posting Days</label>
                            <div class="day-selector">
                                <label><input type="checkbox" value="mon" checked> Mon</label>
                                <label><input type="checkbox" value="tue"> Tue</label>
                                <label><input type="checkbox" value="wed" checked> Wed</label>
                                <label><input type="checkbox" value="thu"> Thu</label>
                                <label><input type="checkbox" value="fri" checked> Fri</label>
                                <label><input type="checkbox" value="sat"> Sat</label>
                                <label><input type="checkbox" value="sun"> Sun</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Posts Per Day</label>
                            <select id="setting-posts-per-day">
                                <option value="1">1 post</option>
                                <option value="2">2 posts</option>
                                <option value="3">3 posts</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Active Platforms</label>
                            <div class="platform-checkboxes">
                                <label><input type="checkbox" value="instagram" checked> Instagram</label>
                                <label><input type="checkbox" value="tiktok" checked> TikTok</label>
                                <label><input type="checkbox" value="twitter"> Twitter/X</label>
                                <label><input type="checkbox" value="linkedin"> LinkedIn</label>
                                <label><input type="checkbox" value="facebook"> Facebook</label>
                                <label><input type="checkbox" value="youtube"> YouTube</label>
                            </div>
                        </div>
                    </div>

                    <!-- Data Management -->
                    <div class="settings-card">
                        <h3>üíæ Data Management</h3>
                        <div class="data-actions">
                            <button class="btn-secondary" onclick="exportProjectData()">üì§ Export Project</button>
                            <button class="btn-secondary" onclick="importProjectData()">üì• Import Project</button>
                            <button class="btn-danger" onclick="deleteProject()">üóëÔ∏è Delete Project</button>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modals -->
    <div class="modal" id="modal">
        <div class="modal-overlay" onclick="closeModal()"></div>
        <div class="modal-content" id="modal-content"></div>
    </div>

    <!-- Loading -->
    <div class="loading-overlay" id="loading">
        <div class="loading-spinner"></div>
        <p id="loading-text">Generating content...</p>
    </div>

    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <!-- Scripts -->
    <script src="js/database.js"></script>
    <script src="js/pollinations.js"></script>
    <script src="js/content-generator.js"></script>
    <script src="js/app.js"></script>
</body>
</html>